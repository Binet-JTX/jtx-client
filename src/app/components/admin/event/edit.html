<div class="container">
  <h4>Modifier l'événement : {{event.title}} <small class="text-muted">(dernière modification {{event.updated_at.fromNow()}})</small></h4>
  <div class="well">
    <form ng-submit="editEvent(event)" name="addEventForm">
      <div class="form-group">
        <label for="etitle">Titre</label>
        <small class="text-muted">Le titre de l'événement doit contenir le nom et l'année de l'événement.</small>
        <input class="form-control" type="text" id="etitle" name="eTitle" ng-model="event.title" required></input>
      </div>
      <div ng-show="addEventForm.$submitted || addEventForm.eTitle.$touched">
        <div ng-show="addEventForm.eTitle.$error.required">
          <alert type="danger">Le titre est obligatoire.</alert>
        </div>
      </div>
      <div class="form-group">
        <label for="edescription">Description</label>
        <small class="text-muted">Bref récapitulatif de l'événement, avec éventuellement quelques faits marquants.</small>
        <textarea class="form-control" type="textarea" id="edescription" ng-model="event.description">
        </textarea>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="ebegindate">Date de début</label>
            <input type="date"  class="form-control" ng-model="event.beginDate_f"  placeholder="{{now.format('YYYY-MM-DD')}}" name="eBeginDate" required/>
          </div>
          <div ng-show="addEventForm.$submitted || addEventForm.eBeginDate.$touched">
            <div ng-show="addEventForm.eBeginDate.$error.required">
              <alert type="danger">La date de début est obligatoire.</alert>
            </div>
            <div ng-show="addEventForm.eBeginDate.$error.pattern">
              <alert type="danger">Il faut rentrer une date.</alert>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="ebegindate">Heure de début</label>
            <input ng-model="event.beginTime_f" class="form-control" name="eBeginHour" placeholder="{{now.format('HH:MM')}}" ng-pattern="/^([0-1][0-9]|2[0-3])\:[0-5][0-9]$/" required></input>
          </div>
          <div ng-show="addEventForm.$submitted || addEventForm.eBeginHour.$touched">
            <div ng-show="addEventForm.eBeginHour.$error.required">
              <alert type="danger">L'heure de début est obligatoire.</alert>
            </div>
            <div ng-show="addEventForm.eBeginHour.$error.pattern">
              <alert type="danger">Il faut rentrer une heure.</alert>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="eenddate">Date de fin</label>
            <input type="date" class="form-control" ng-model="event.endDate_f" placeholder="{{now.format('YYYY-MM-DD')}}" name="eEndDate" required/>
          </div>
          <div ng-show="addEventForm.$submitted || addEventForm.eEndDate.$touched">
            <div ng-show="addEventForm.eEndDate.$error.required">
              <alert type="danger">La date de fin est obligatoire.</alert>
            </div>
            <div ng-show="addEventForm.eBeginDate.$error.pattern">
              <alert type="danger">Il faut rentrer une date.</alert>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="eenddate">Heure de fin</label>
            <input ng-model="event.endTime_f" class="form-control" name="eEndHour" placeholder="{{now.format('HH:MM')}}" ng-pattern="/^([0-1][0-9]|2[0-3])\:[0-5][0-9]$/" required></input>
          </div>
          <div ng-show="addEventForm.$submitted || addEventForm.eendHour.$touched">
            <div ng-show="addEventForm.eEndHour.$error.required">
              <alert type="danger">L'heure' de fin est obligatoire.</alert>
            </div>
            <div ng-show="addEventForm.eEndHour.$error.pattern">
              <alert type="danger">Il faut rentrer une heure.</alert>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <input class="form-control btn-primary" type="submit" value="Modifier" />
      </div>
    </form>
    <div class="form-group">
      <button class="form-control btn btn-danger"  ng-click="deleteEvent(event)">Supprimer l'événement</button>
    </div>
    <alert ng-show="showErrors" type="danger">{{ errors }}</alert>
    <alert ng-show="showSuccess" type="success">{{ success }}</alert>
  </div>
</div>
